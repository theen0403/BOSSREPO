@model IEnumerable<BOSS.Models.FMmodels.FMResCenterModels.DepartmentList>
@{
    BOSSEFConnectionString BOSSDB = new BOSSEFConnectionString();
}
@using BOSS.Models;

<div class="row">
    <div class="col">
        <table class="table table-responsive table-striped table-bordered table-condensed zero-configuration w-100 table-smss-hover">
            <thead class="text-center">
                <tr>
                    <th width="35%">Department</th>
                    <th>Department Abbreviation</th>
                    <th>Responsibility Center Code</th>
                    <th>Fund</th>
                    <th>Sector</th>
                    <th>Sub Sector</th>
                    <th>Office Type</th>
                    <th>Department / Office Code</th>
                    <th width="5%">Action</th>
                </tr>
            </thead>
            <tbody>
                @{
                    foreach (var Items in Model)
                    {
                        var DeleteConfirmationMess = "Are you sure do you want to delete this?";
                        var DeleteSuccesMess = "Successfully Deleted";

                        var UpdateDepartment = "<button class=\"btn btn-icon btn-block black btn-menuorange\" type=\"button\" onclick=\"GlobalEdit('Get_UpdateDepartment','" + @Items.DeptID + "')\"> <i class='la la-edit'></i> Edit</button>";
                        var RemoveDepartment = "<button class=\"btn btn-icon btn-block btn-menuRed\" type=\"button\" onclick =\"swalConfirmation('" + @DeleteConfirmationMess + "', '" + @Items.DeptTitle + "','" + @DeleteSuccesMess + "','GlobalDelete(" + @Items.DeptID + ",&quot;DeleteDepartment&quot;)')\"><i class='la la-trash'></i> Delete</button>";

                        var ActionDepartment = UpdateDepartment + RemoveDepartment;

                <tr>
                    <td>@Items.DeptTitle</td>
                    <td>@Items.DeptAbbrv</td>
                    <td class="text-center">@Items.RCcode</td>
                    <td>@Items.FundTitle</td>
                    <td>@Items.SectorTitle</td>
                    <td>
                        @{
                            var SubID = Items.SubSectorID;
                            var SubSector = (from e in BOSSDB.SubSectors where e.SubSectorID == SubID select e).FirstOrDefault();
                            var TDValue = "";
                            if (SubSector == null)
                            {
                                TDValue = "N/A";
                            }
                            else
                            {
                                TDValue = SubSector.SubSectorTitle;
                            }
                        }
                        @TDValue
                    </td>
                    <td>@Items.OfficeTypeTitle</td>
                    <td class="text-center">@Items.DeptOfficeCode</td>
                    <td class="text-center">
                        <button type="button" onfocusout="PopoveLostFocus()"
                                class="btn btn-m btn-btnbackcolor popover-trigger"
                                data-toggle="popover" data-content="@ActionDepartment"
                                data-original-title="" data-html="true" data-placement="left">
                            <i class="la la-bars"></i>
                        </button>
                    </td>
                </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    $(function () {
        LoadDataTable();
    })
</script>
